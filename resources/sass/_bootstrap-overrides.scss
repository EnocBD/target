// ============================================================
// BOOTSTRAP CUSTOM OVERRIDES
// ============================================================

// Define custom unit base FIRST
$unit: 15px !default;

// ============================================================
// OVERRIDE CRITICAL VARIABLES BEFORE IMPORTING BOOTSTRAP
// ============================================================

// Override spacers FIRST (before variables import)
$spacer: $unit !default;
$spacers: (
  0: 0,
  1: $spacer * .25,     // 3.75px
  2: $spacer * .5,      // 7.5px
  3: $spacer,           // 15px
  4: $spacer * 1.5,     // 22.5px
  5: $spacer * 3,       // 45px
) !default;

// Override input/button padding BEFORE importing variables
$input-btn-padding-y: .375em !default;
$input-btn-padding-x: .75em !default;
$input-btn-font-size: 1rem !default;
$input-btn-line-height: 1.5 !default;

$input-btn-padding-y-sm: .25em !default;
$input-btn-padding-x-sm: .5em !default;
$input-btn-font-size-sm: .875rem !default;

$input-btn-padding-y-lg: .5em !default;
$input-btn-padding-x-lg: 1em !default;
$input-btn-font-size-lg: 1.25rem !default;

// Override navbar variables BEFORE importing variables
$navbar-padding-y: $spacer * .5 !default;
$navbar-padding-x: $spacer !default;
$nav-link-padding-y: .5rem !default;
$nav-link-padding-x: 1rem !default;
$navbar-nav-link-padding-x: 1rem !default;

// Now import Bootstrap variables (they will use our overrides)
@import "bootstrap/scss/variables";

// Import Bootstrap maps (to generate $negative-spacers from our custom $spacers)
@import "bootstrap/scss/maps";

// Override grid gutter width to use $unit
$grid-gutter-width: $spacer * 2 !default; // 30px

// Override container padding
$container-padding-x: $grid-gutter-width !default;

// ============================================================
// OVERRIDE FONT SIZES - Use em instead of rem for headings
// ============================================================

// Base font sizes (keep rem for body, but headings will use em)
$font-size-root: null !default;
$font-size-base: 1rem !default; // Assumes browser default (16px)
$font-size-sm: $font-size-base * .875 !default;
$font-size-lg: $font-size-base * 1.25 !default;

// Heading font sizes - converted to em
// Bootstrap default: h1=2.5rem, h2=2rem, h3=1.75rem, h4=1.5rem, h5=1.25rem, h6=1rem
// Converted to em (assuming 16px base = 1em):
$h1-font-size: 2.5em !default;
$h2-font-size: 2em !default;
$h3-font-size: 1.75em !default;
$h4-font-size: 1.5em !default;
$h5-font-size: 1.25em !default;
$h6-font-size: 1em !default;

// Font sizes map
$font-sizes: (
  1: $h1-font-size,
  2: $h2-font-size,
  3: $h3-font-size,
  4: $h4-font-size,
  5: $h5-font-size,
  6: $h6-font-size
) !default;

// Display sizes - also use em
$display-font-sizes: (
  1: 5em,
  2: 4.5em,
  3: 4em,
  4: 3.5em,
  5: 3em,
  6: 2.5em
) !default;

// Other typography sizes using em
$lead-font-size: 1.25em !default;
$small-font-size: .875em !default;
$sub-sup-font-size: .75em !default;
$initialism-font-size: $small-font-size !default;
$blockquote-font-size: 1.25em !default;
$blockquote-footer-font-size: $small-font-size !default;

// Headings margin bottom (use $unit based spacer)
$headings-margin-bottom: $spacer * .5 !default;
$headings-font-family: null !default;
$headings-font-style: null !default;
$headings-font-weight: 500 !default;
$headings-line-height: 1.2 !default;

// Display settings
$display-font-family: null !default;
$display-font-style: null !default;
$display-font-weight: 300 !default;
$display-line-height: $headings-line-height !default;

// Lead font weight
$lead-font-weight: 300 !default;

// ============================================================
// OTHER SPACING OVERRIDES (using $unit)
// ============================================================

// Paragraphs
$paragraph-margin-bottom: $spacer !default;

// Blockquotes
$blockquote-margin-y: $spacer !default;

// HR margin
$hr-margin-y: $spacer !default;

// List inline padding
$list-inline-padding: $spacer * .5 !default;

// ============================================================
// BORDER RADIUS OVERRIDES (use em)
// ============================================================

$border-radius: .375em !default;
$border-radius-sm: .25em !default;
$border-radius-lg: .5em !default;
$border-radius-xl: 1em !default;
$border-radius-xxl: 2em !default;
$border-radius-pill: 50em !default;

// ============================================================
// BOX SHADOW OVERRIDES (use em)
// ============================================================

$box-shadow: 0 .5em 1em rgba($black, .15) !default;
$box-shadow-sm: 0 .125em .25em rgba($black, .075) !default;
$box-shadow-lg: 0 1em 3em rgba($black, .175) !default;
$box-shadow-inset: inset 0 1px 2px rgba($black, .075) !default;

// ============================================================
// FOCUS RING OVERRIDES (use em)
// ============================================================

$focus-ring-width: .25em !default;
$focus-ring-opacity: .25 !default;
$focus-ring-color: rgba($primary, $focus-ring-opacity) !default;
$focus-ring-blur: 0 !default;
$focus-ring-box-shadow: 0 0 $focus-ring-blur $focus-ring-width $focus-ring-color !default;

// ============================================================
// CARET OVERRIDES (already uses em, but documenting)
// ============================================================

$caret-width: .3em !default;
$caret-vertical-align: $caret-width * .85 !default;
$caret-spacing: $caret-width * .85 !default;

// ============================================================
// COMPONENT SPACING OVERRIDES
// ============================================================

// Cards
$card-spacer-y: $spacer !default;
$card-spacer-x: $spacer !default;
$card-border-radius: $border-radius !default;
$card-cap-padding-y: $spacer * .5 !default;
$card-cap-padding-x: $spacer !default;
$card-cap-bg: null !default;
$card-cap-color: null !default;
$card-height: null !default;
$card-color: null !default;
$card-bg: $body-bg !default;

// Modal
$modal-inner-padding: $spacer !default;
$modal-header-padding-y: $spacer !default;
$modal-header-padding-x: $spacer !default;
$modal-header-border-width: $border-width !default;
$modal-footer-gap: $spacer * .5 !default;
$modal-dialog-margin: $spacer * .5 !default;
$modal-content-border-radius: $border-radius-lg !default;

// Alerts
$alert-padding-y: $spacer !default;
$alert-padding-x: $spacer !default;
$alert-margin-bottom: $spacer !default;
$alert-border-radius: $border-radius !default;

// Badges
$badge-padding-y: .35em !default;
$badge-padding-x: .65em !default;
$badge-font-size: .75em !default;
$badge-border-radius: $border-radius !default;

// Breadcrumbs
$breadcrumb-padding-y: $spacer * .5 !default;
$breadcrumb-padding-x: $spacer !default;
$breadcrumb-margin-bottom: $spacer !default;
$breadcrumb-divider: "/" !default;

// Pagination
$pagination-padding-y: .375em !default;
$pagination-padding-x: .75em !default;
$pagination-padding-y-sm: .25em !default;
$pagination-padding-x-sm: .5em !default;
$pagination-padding-y-lg: .5em !default;
$pagination-padding-x-lg: 1em !default;
$pagination-gap: $spacer * .25 !default;

// List group
$list-group-item-padding-x: $spacer !default;
$list-group-item-padding-y: $spacer * .5 !default;
$list-group-item-border-radius: $border-radius !default;
$list-group-item-border-width: $border-width !default;

// Tables
$table-cell-padding-y: $spacer * .5 !default;
$table-cell-padding-x: $spacer !default;
$table-cell-padding-y-sm: $spacer * .25 !default;
$table-cell-padding-x-sm: $spacer * .5 !default;
$table-border-width: $border-width !default;
$table-border-color: var(--#{$prefix}border-color) !default;

// Dropdowns
$dropdown-padding-y: $spacer * .5 !default;
$dropdown-item-padding-y: $spacer * .25 !default;
$dropdown-item-padding-x: $spacer !default;
$dropdown-header-padding-y: $spacer * .5 !default;
$dropdown-header-padding-x: $spacer !default;

// Popovers
$popover-inner-padding: $spacer !default;
$popover-header-padding-y: $spacer * .5 !default;
$popover-header-padding-x: $spacer !default;
$popover-body-padding-y: $spacer !default;
$popover-body-padding-x: $spacer !default;
$popover-border-radius: $border-radius-lg !default;

// Tooltips
$tooltip-padding-y: $spacer * .25 !default;
$tooltip-padding-x: $spacer * .5 !default;
$tooltip-font-size: $font-size-sm !default;
$tooltip-border-radius: $border-radius !default;

// Forms
$input-padding-y: .375em !default;
$input-padding-x: .75em !default;
$input-font-size: $font-size-base !default;
$input-line-height: 1.5 !default;

$input-padding-y-sm: .25em !default;
$input-padding-x-sm: .5em !default;
$input-font-size-sm: $font-size-sm !default;

$input-padding-y-lg: .5em !default;
$input-padding-x-lg: 1em !default;
$input-font-size-lg: $font-size-lg !default;

$input-group-addon-padding-y: $input-padding-y !default;
$input-group-addon-padding-x: $input-padding-x !default;

// Form labels
$form-label-margin-bottom: $spacer * .25 !default;

// Form text
$form-text-margin-top: .25em !default;
$form-text-font-size: $small-font-size !default;
$form-text-color: $text-muted !default;

// Form check
$form-check-input-width: 1em !default;
$form-check-min-height: $font-size-base * $input-btn-line-height !default;
$form-check-padding-start: $form-check-input-width + .5em !default;
$form-check-margin-bottom: .125em !default;
$form-check-label-color: null !default;
$form-check-label-cursor: null !default;
$form-check-transition: null !default;

$form-check-input-active-filter: brightness(90%) !default;

$form-check-input-bg: $input-bg !default;
$form-check-input-border: var(--#{$prefix}border-color) !default;
$form-check-input-border-radius: .25em !default;
$form-check-radio-border-radius: 50% !default;
$form-check-input-focus-border: $input-focus-border-color !default;
$form-check-input-focus-box-shadow: $input-btn-focus-box-shadow !default;

$form-check-input-checked-color: $component-active-color !default;
$form-check-input-checked-bg-color: $component-active-bg !default;
$form-check-input-checked-border-color: $form-check-input-checked-bg-color !default;
$form-check-input-checked-bg-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10l3 3l6-6'/%3e%3c/svg%3e") !default;
$form-check-radio-checked-bg-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='2' fill='%23fff'/%3e%3c/svg%3e") !default;

$form-check-input-indeterminate-color: $component-active-color !default;
$form-check-input-indeterminate-bg-color: $component-active-bg !default;
$form-check-input-indeterminate-border-color: $form-check-input-indeterminate-bg-color !default;
$form-check-input-indeterminate-bg-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10h8'/%3e%3c/svg%3e") !default;

$form-check-input-disabled-opacity: .5 !default;
$form-check-label-disabled-opacity: $form-check-input-disabled-opacity !default;
$form-check-btn-check-disabled-opacity: $btn-disabled-opacity !default;

$form-check-inline-margin-end: 1em !default;

// Input group
$input-group-addon-padding-y: $input-padding-y !default;
$input-group-addon-padding-x: $input-padding-x !default;
$input-group-addon-font-weight: $font-weight-base !default;
$input-group-addon-color: $input-color !default;
$input-group-addon-bg: $gray-200 !default;
$input-group-addon-border-color: $input-border-color !default;

// ============================================================
// ACCORDION OVERRIDES
// ============================================================

$accordion-padding-y: 1em !default;
$accordion-padding-x: 1.25em !default;
$accordion-color: $body-color !default;
$accordion-bg: $body-bg !default;
$accordion-border-width: $border-width !default;
$accordion-border-color: var(--#{$prefix}border-color) !default;
$accordion-border-radius: $border-radius !default;
$accordion-button-bg: $accordion-bg !default;
$accordion-button-color: $accordion-color !default;
$accordion-button-active-bg: tint-color($component-active-bg, 90%) !default;
$accordion-button-active-color: shade-color($primary, 10%) !default;
$accordion-button-focus-border-color: $input-focus-border-color !default;
$accordion-button-focus-box-shadow: $btn-focus-box-shadow !default;
$accordion-icon-width: 1.25em !default;
$accordion-icon-color: $accordion-button-color !default;
$accordion-icon-active-color: $accordion-button-active-color !default;
$accordion-icon-transition: transform 0.2s ease-in-out !default;
$accordion-button-active-icon: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23212529'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e") !default;
$accordion-body-padding-y: $spacer !default;
$accordion-body-padding-x: $spacer !default;

// ============================================================
// ALERT OVERRIDES
// ============================================================

$alert-padding-y: $spacer !default;
$alert-padding-x: $spacer !default;
$alert-margin-bottom: $spacer !default;
$alert-border-radius: $border-radius !default;
$alert-link-font-weight: $font-weight-bold !default;
$alert-border-width: var(--#{$prefix}border-width) !default;
$alert-dismissible-padding-r: $alert-padding-x * 3 !default;

// ============================================================
// BREADCRUMB OVERRIDES
// ============================================================

$breadcrumb-padding-y: $spacer * .5 !default;
$breadcrumb-padding-x: $spacer !default;
$breadcrumb-margin-bottom: $spacer !default;
$breadcrumb-font-size: null !default;
$breadcrumb-color: var(--#{$prefix}secondary-color) !default;
$breadcrumb-bg: null !default;
$breadcrumb-border-radius: null !default;
$breadcrumb-divider: quote("/") !default;
$breadcrumb-divider-flipped: $breadcrumb-divider !default;
$breadcrumb-item-padding-x: .5em !default;
$breadcrumb-item-active-color: var(--#{$prefix}secondary-color) !default;

// ============================================================
// PROGRESS OVERRIDES
// ============================================================

$progress-height: 1em !default;
$progress-font-size: $font-size-base * .75 !default;
$progress-bg: $gray-200 !default;
$progress-border-radius: $border-radius !default;
$progress-box-shadow: $box-shadow-inset !default;
$progress-bar-color: $white !default;
$progress-bar-bg: $primary !default;
$progress-bar-animation-timing: 1s linear infinite !default;
$progress-bar-transition: width 0.6s ease !default;

// ============================================================
// PAGINATION OVERRIDES
// ============================================================

$pagination-padding-y: .375em !default;
$pagination-padding-x: .75em !default;
$pagination-padding-y-sm: .25em !default;
$pagination-padding-x-sm: .5em !default;
$pagination-padding-y-lg: .5em !default;
$pagination-padding-x-lg: 1em !default;
$pagination-font-size: $font-size-base !default;
$pagination-color: var(--#{$prefix}link-color) !default;
$pagination-bg: $white !default;
$pagination-border-radius: $border-radius !default;
$pagination-border-width: $border-width !default;
$pagination-margin-start: calc(#{$pagination-border-width} * -1) !default;
$pagination-border-color: $gray-300 !default;
$pagination-focus-color: var(--#{$prefix}link-hover-color) !default;
$pagination-focus-bg: $gray-200 !default;
$pagination-focus-box-shadow: $input-btn-focus-box-shadow !default;
$pagination-focus-outline: 0 !default;
$pagination-hover-color: var(--#{$prefix}link-hover-color) !default;
$pagination-hover-bg: $gray-200 !default;
$pagination-hover-border-color: $gray-300 !default;
$pagination-active-color: $component-active-color !default;
$pagination-active-bg: $component-active-bg !default;
$pagination-active-border-color: $pagination-active-bg !default;
$pagination-disabled-color: $gray-600 !default;
$pagination-disabled-bg: $white !default;
$pagination-disabled-border-color: $gray-300 !default;
$pagination-transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out !default;
$pagination-border-radius-sm: $border-radius-sm !default;
$pagination-border-radius-lg: $border-radius-lg !default;

// ============================================================
// PLACEHOLDER OVERRIDES
// ============================================================

$placeholder-opacity-max: .5 !default;
$placeholder-opacity-min: .2 !default;

// ============================================================
// RATIO OVERRIDES
// ============================================================

$aspect-ratios: (
  "1x1": 100%,
  "4x3": calc(3 / 4 * 100%),
  "16x9": calc(9 / 16 * 100%),
  "21x9": calc(9 / 21 * 100%)
) !default;

// ============================================================
// STACKS OVERRIDES
// ============================================================

$stack-gap: 1.5em !default;
